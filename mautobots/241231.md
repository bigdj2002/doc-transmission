**ìë™í™”ë¥¼ ìœ„í•´ ëª¨ë“  ì‘ì—…ì„ ìŠ¤í¬ë¦½íŠ¸í™”**í•˜ì—¬, ëª…ë ¹ì–´ ì…ë ¥ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” Lambda Layer ìƒì„±, íŒ¨í‚¤ì§•, ë°°í¬ ê³¼ì •ì„ **ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì™„ì „íˆ ìë™í™”**í•œ ì˜ˆì œì…ë‹ˆë‹¤.

---

## **ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±**

### **1. ë””ë ‰í† ë¦¬ êµ¬ì¡°**
```plaintext
project/
â”œâ”€â”€ layer/
â”‚   â”œâ”€â”€ requirements.txt        # ì„¤ì¹˜í•  ì˜ì¡´ì„± ëª©ë¡
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ create_and_deploy_layer.sh  # ë ˆì´ì–´ ìƒì„± ë° ë°°í¬ ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .gitignore                  # Git ë¬´ì‹œ íŒŒì¼
â””â”€â”€ README.md                   # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

---

### **2. `requirements.txt` ì‘ì„±**
`layer/requirements.txt`ì—ì„œ `matplotlib`ë§Œ í¬í•¨í•˜ë„ë¡ ì‘ì„±í•©ë‹ˆë‹¤:
```plaintext
matplotlib==3.7.0
```

---

### **3. ìë™í™” ìŠ¤í¬ë¦½íŠ¸**
**`scripts/create_and_deploy_layer.sh`**: ëª¨ë“  ì‘ì—…ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.
```bash
#!/bin/bash
set -e  # ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¢…ë£Œ

# ë³€ìˆ˜ ì„¤ì •
LAYER_NAME="matplotlib-layer"
LAYER_DIR="layer/python"
OUTPUT_FILE="layer.zip"
REGION="ap-northeast-2"  # ì‚¬ìš© ì¤‘ì¸ AWS ë¦¬ì „
DESCRIPTION="Matplotlib library for Lambda function"

# 1. Python íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo "Step 1: Installing dependencies into $LAYER_DIR..."
rm -rf $LAYER_DIR $OUTPUT_FILE  # ì´ì „ ê²°ê³¼ ì‚­ì œ
mkdir -p $LAYER_DIR
pip install -r layer/requirements.txt -t $LAYER_DIR

# 2. íŒ¨í‚¤ì§•
echo "Step 2: Packaging Lambda Layer..."
cd layer
zip -r ../$OUTPUT_FILE python/
cd ..

# 3. ë ˆì´ì–´ ë°°í¬
echo "Step 3: Deploying Lambda Layer to AWS..."
LAYER_ARN=$(aws lambda publish-layer-version \
  --layer-name $LAYER_NAME \
  --description "$DESCRIPTION" \
  --zip-file fileb://$OUTPUT_FILE \
  --compatible-runtimes python3.9 \
  --region $REGION \
  --query 'LayerVersionArn' \
  --output text)

# 4. ê²°ê³¼ ì¶œë ¥
echo "Lambda Layer deployed successfully!"
echo "Layer ARN: $LAYER_ARN"
```

---

### **4. ì‚¬ìš© ë°©ë²•**
1. **ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**:
   ```bash
   ./scripts/create_and_deploy_layer.sh
   ```

2. ì‹¤í–‰ í›„ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ê°€ ì¶œë ¥ë©ë‹ˆë‹¤:
   ```plaintext
   Step 1: Installing dependencies into layer/python...
   Step 2: Packaging Lambda Layer...
   Step 3: Deploying Lambda Layer to AWS...
   Lambda Layer deployed successfully!
   Layer ARN: arn:aws:lambda:ap-northeast-2:123456789012:layer:matplotlib-layer:1
   ```

---

## **ìë™í™” ì „ëµì˜ ì¥ì **
1. **ëª…ë ¹ì–´ ì…ë ¥ ìµœì†Œí™”**:
   - ëª¨ë“  ì‘ì—…(ì˜ì¡´ì„± ì„¤ì¹˜, íŒ¨í‚¤ì§•, ë°°í¬)ì„ ë‹¨ì¼ ìŠ¤í¬ë¦½íŠ¸ë¡œ ìë™í™”.
   - ëª…ë ¹ì–´ë¥¼ ê¸°ì–µí•˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ìŒ.

2. **í™˜ê²½ ì¼ê´€ì„±**:
   - ë™ì¼í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ íŒ€ì›ì´ ê³µìœ í•´ë„ í•­ìƒ ë™ì¼í•œ ì‘ì—… ê²°ê³¼ ë³´ì¥.

3. **ì¬ì‚¬ìš© ê°€ëŠ¥**:
   - í•„ìš” ì‹œ Layer ì´ë¦„, ë¦¬ì „, ì˜ì¡´ì„± ë“±ì„ ë³€ê²½í•˜ì—¬ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ë„ ì¬ì‚¬ìš© ê°€ëŠ¥.

---

### **ê²°ë¡ **
ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” Layer ìƒì„±ë¶€í„° AWS ë°°í¬ê¹Œì§€ ëª¨ë“  ë‹¨ê³„ë¥¼ ìë™í™”í•©ë‹ˆë‹¤. ì´í›„ ì¶”ê°€ ì‘ì—… ì—†ì´ ë°”ë¡œ Lambda í•¨ìˆ˜ì— Layerë¥¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ¯
